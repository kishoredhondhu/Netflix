// import { HttpClient } from '@angular/common/http';
// import { Component } from '@angular/core';
// import { Project } from './models/project';

// @Component({
//   selector: 'app-root',
//   templateUrl: './app.component.html',
//   styleUrls: ['./app.component.css']
// })
// export class AppComponent {
//   title = 'Movie_Production_ManagementSystem';
//   project: any = null;

//   onProjectCreated(project: any) {
//     this.project = project;
//   }
// }

import { Component } from '@angular/core';
<<<<<<< HEAD
import { Project } from './models/project';
import { ScheduledScene } from './models/scene';
=======
import { CreateMovieProjectRequest, MovieProjectResponse } from './models/project.model';
import { ProjectService } from './service/project.service';

>>>>>>> 09000a38 (changes)

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  // styleUrls: ['./app.component.css']
})
export class AppComponent {
  title = 'Movie Production Management';
  submissionMessage: string | null = null;
  isError: boolean = false;

  constructor(private projectService: ProjectService) {}

  handleProjectSubmission(projectData: CreateMovieProjectRequest): void {
    this.submissionMessage = null;
    this.isError = false;
    console.log('App component received project data:', projectData);

    this.projectService.createProject(projectData).subscribe({
      next: (response: MovieProjectResponse) => {
        console.log('Project created successfully on backend:', response);
        this.submissionMessage = `Project "${response.title}" (ID: ${response.id}) created successfully! Dashboard status: ${response.projectDashboardStatus}`;
        this.isError = false;
        // Here you might want to reset the form or navigate to a dashboard
        // For now, just showing a success message.
      },
      error: (error) => {
        console.error('Error creating project on backend:', error);
        this.submissionMessage = `Failed to create project. ${error.message || error}`;
        this.isError = true;
      }
    });
  }
<<<<<<< HEAD
  scenes: ScheduledScene[] = [];

  addScene(scene: ScheduledScene) {
    this.scenes.push(scene);
  }
}
=======
}
>>>>>>> 09000a38 (changes)
